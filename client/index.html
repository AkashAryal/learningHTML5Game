<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Game1</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>
</head>

<body>
  <canvas id="ctx" width="500" height="500" style="border:1px solid #000000;"></canvas>

  <script>
    var ctx = document.getElementById("ctx").getContext("2d");
    ctx.font = '30px Arial';

    var socket = io();
    socket.on('newPosition', (players) => {
      ctx.clearRect(0, 0, 500, 500);
      for (var i = 0; i < players.length; i++) {
        ctx.fillText(players[i].number, players[i].x, players[i].y)
      }
    })

    document.onkeydown = (event) => {
      if (event.keyCode === 68){ //d
        socket.emit('keyPress', { inputID: 'right', state: true });console.log("e");
        }
      else if (event.keyCode === 83) //s
        socket.emit('keyPress', { inputID: 'down', state: true });
      else if (event.keyCode === 65) //a
        socket.emit('keyPress', { inputID: 'left', state: true });
      else if (event.keyCode === 87) //w
        socket.emit('keyPress', { inputID: 'up', state: true });
    }
    document.onkeyup = (event) => {
      if (event.keyCode === 68){ //d
        socket.emit('keyPress', { inputID: 'right', state: false });console.log("j");
        }
      else if (event.keyCode === 83) //s
        socket.emit('keyPress', { inputID: 'down', state: false });
      else if (event.keyCode === 65) //a
        socket.emit('keyPress', { inputID: 'left', state: false });
      else if (event.keyCode === 87) //w
        socket.emit('keyPress', { inputID: 'up', state: false });
    }
  </script>
</body>

</html>
<canvas>
